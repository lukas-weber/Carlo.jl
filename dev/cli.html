<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Command line interface · LoadLeveller</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">LoadLeveller</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">LoadLeveller.jl</a></li><li class="is-active"><a class="tocitem" href="cli.html">Command line interface</a><ul class="internal"><li><a class="tocitem" href="#Starting-jobs"><span>Starting jobs</span></a></li><li><a class="tocitem" href="#Job-status"><span>Job status</span></a></li><li><a class="tocitem" href="#Merging-jobs"><span>Merging jobs</span></a></li><li><a class="tocitem" href="#Deleting-jobs"><span>Deleting jobs</span></a></li><li><a class="tocitem" href="#Shortcuts"><span>Shortcuts</span></a></li></ul></li><li><a class="tocitem" href="abstract_mc.html">Implementing your algorithm</a></li><li><span class="tocitem">Advanced Topics</span><ul><li><a class="tocitem" href="evaluables.html">Evaluables</a></li><li><a class="tocitem" href="jobtools.html">JobTools</a></li><li><a class="tocitem" href="resulttools.html">ResultTools</a></li><li><a class="tocitem" href="rng.html">Random Number Generators</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="cli.html">Command line interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="cli.html">Command line interface</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lukas-weber/LoadLeveller.jl/blob/main/docs/src/cli.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="cli"><a class="docs-heading-anchor" href="#cli">Command line interface</a><a id="cli-1"></a><a class="docs-heading-anchor-permalink" href="#cli" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="LoadLeveller.start" href="#LoadLeveller.start"><code>LoadLeveller.start</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">start(job::JobInfo, ARGS)</code></pre><p>Call this from your job script to start the LoadLeveller command line interface.</p><p>If for any reason you do not want to use job scripts, you can directly schedule a job using</p><pre><code class="nohighlight hljs">start(LoadLeveller.MPIRunner{job.mc}, job)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lukas-weber/LoadLeveller.jl/blob/1080197943a86ce357ef0d10d4e45c7cd5591d64/src/cli.jl#L5-L13">source</a></section></article><p>A job script calling <code>start(job, ARGS)</code> (as shown in <a href="index.html#Usage">Usage</a>) exposes the LoadLeveller command line interface when executed.</p><pre><code class="language-bash hljs">./myjob --help</code></pre><p>The command line interface allows (re)starting a job, merging preliminary results, and showing the completion status of a calculation.</p><h2 id="Starting-jobs"><a class="docs-heading-anchor" href="#Starting-jobs">Starting jobs</a><a id="Starting-jobs-1"></a><a class="docs-heading-anchor-permalink" href="#Starting-jobs" title="Permalink"></a></h2><pre><code class="language-bash hljs">./myjob run</code></pre><p>This will start a simulation on a single core. To use multiple cores, use MPI.</p><pre><code class="language-bash hljs">mpirun -n $num_cores ./myjob run</code></pre><p>Once the simulation is started, a directory <code>myjob.data</code> will be created to store all simulation data. The name of the directory corresponds to the first argument of <code>JobInfo</code>. Usually that will be <code>@__FILE__</code>, but you could collect your simulation data in a different directory.</p><p>The data directory will contain hdf5 files for each task of the job that contain checkpointing snapshots and measurement results. Once the job is done, LoadLeveller will average the measurement data for you and produce the file <code>myjob.results.json</code> in the same directory as the <code>myjob.data</code> directory. This file contains means and errorbars of all observables. See <a href="resulttools.html#result_tools">ResultTools</a> for some tips on consuming this file back into julia for your plotting or other postprocessing.</p><h2 id="Job-status"><a class="docs-heading-anchor" href="#Job-status">Job status</a><a id="Job-status-1"></a><a class="docs-heading-anchor-permalink" href="#Job-status" title="Permalink"></a></h2><pre><code class="language-bash hljs">./myjob status</code></pre><p>Use this command to find out the state of the simulation. It will show a table with the number of completed measurement sweeps, the target number of sweeps, the numbers of runs, and the fraction of them that is thermalized.</p><p>The fraction is defined as thermalization sweeps completed/total thermalization sweeps needed.</p><h2 id="Merging-jobs"><a class="docs-heading-anchor" href="#Merging-jobs">Merging jobs</a><a id="Merging-jobs-1"></a><a class="docs-heading-anchor-permalink" href="#Merging-jobs" title="Permalink"></a></h2><pre><code class="language-bash hljs">./myjob merge</code></pre><p>Usually LoadLeveller will automatically merge results once a job is complete, but when you are impatient and you want to check on results of a running or aborted job, this command is your friend. It will produce a <code>myjob.results.json</code> file containing the averages of the currently available data.</p><h2 id="Deleting-jobs"><a class="docs-heading-anchor" href="#Deleting-jobs">Deleting jobs</a><a id="Deleting-jobs-1"></a><a class="docs-heading-anchor-permalink" href="#Deleting-jobs" title="Permalink"></a></h2><pre><code class="language-bash hljs">./myjob delete</code></pre><p>This deletes <code>myjob.data</code> and <code>myjob.results.json</code>. Of course, you should archive your simulation data instead of deleting them. However, if you made an error in a previous simulation, keep in mind that by default LoadLeveller will continue it from the checkpoints.</p><p>For that case of restarting a job there is a handy shortcut as well</p><pre><code class="language-bash hljs">./myjob run --restart</code></pre><h2 id="Shortcuts"><a class="docs-heading-anchor" href="#Shortcuts">Shortcuts</a><a id="Shortcuts-1"></a><a class="docs-heading-anchor-permalink" href="#Shortcuts" title="Permalink"></a></h2><p>All commands here have shortcut versions that you can view in the help.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="index.html">« LoadLeveller.jl</a><a class="docs-footer-nextpage" href="abstract_mc.html">Implementing your algorithm »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 21 June 2023 16:11">Wednesday 21 June 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
